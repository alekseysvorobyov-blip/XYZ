<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π: 013 (28.10) vs 018 (29.10)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: #1e1e1e; 
            color: #d4d4d4; 
            padding: 20px;
            line-height: 1.6;
        }
        .container { max-width: 1800px; margin: 0 auto; }
        h1 { 
            color: #4ec9b0; 
            margin-bottom: 30px; 
            border-bottom: 3px solid #4ec9b0; 
            padding-bottom: 10px;
            font-size: 24px;
        }
        h2 { 
            color: #ce9178; 
            margin-top: 35px; 
            margin-bottom: 15px;
            font-size: 20px;
        }
        .summary {
            background: #252526;
            border: 2px solid #4ec9b0;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }
        .summary h3 { color: #4ec9b0; margin-bottom: 15px; font-size: 18px; }
        .summary ul { margin-left: 25px; }
        .summary li { margin: 10px 0; font-size: 14px; }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 20px 0; 
            background: #252526;
            border: 1px solid #3e3e42;
            font-size: 13px;
        }
        th, td { 
            padding: 12px; 
            text-align: left; 
            border: 1px solid #3e3e42;
            vertical-align: top;
        }
        th { 
            background: #2d2d30; 
            color: #4ec9b0; 
            font-weight: bold;
        }
        tr:hover { background: #2d2d30; }
        .added { 
            background: rgba(78, 201, 176, 0.2); 
            color: #4ec9b0;
        }
        .removed { 
            background: rgba(244, 135, 113, 0.2); 
            color: #f48771;
        }
        .unchanged { color: #999; }
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            margin-right: 8px;
        }
        .badge-new { background: #4ec9b0; color: #1e1e1e; }
        .badge-updated { background: #f57c00; color: white; }
        .badge-same { background: #666; color: white; }
        .critical { 
            background: rgba(255, 0, 0, 0.15);
            border-left: 4px solid #ff0000;
            padding: 12px;
            margin: 12px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π: 013 (28.10 17:49) vs 018 (29.10 03:07)</h1>
        
        <div class="summary">
            <h3>üìà –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            <ul>
                <li><strong>–ú–∏–≥—Ä–∞—Ü–∏—è 013:</strong> 28 –æ–∫—Ç—è–±—Ä—è 2025, 17:49:26 MSK</li>
                <li><strong>–ú–∏–≥—Ä–∞—Ü–∏—è 018:</strong> 29 –æ–∫—Ç—è–±—Ä—è 2025, 03:07:23 MSK (~9.5 —á–∞—Å–æ–≤ —Ä–∞–∑–Ω–∏—Ü—ã)</li>
                <li><strong>–†–∞–∑–º–µ—Ä 013:</strong> 234,696 —Å–∏–º–≤–æ–ª–æ–≤ (234 KB)</li>
                <li><strong>–†–∞–∑–º–µ—Ä 018:</strong> 238,486 —Å–∏–º–≤–æ–ª–æ–≤ (238 KB)</li>
                <li><strong>–†–∞–∑–Ω–∏—Ü–∞:</strong> +3,790 —Å–∏–º–≤–æ–ª–æ–≤ (+1.6% ‚Üë)</li>
                <li><strong>–§–∞–π–ª–æ–≤:</strong> 35 —Ñ–∞–π–ª–æ–≤ (–æ–¥–∏–Ω–∞–∫–æ–≤–æ)</li>
                <li><strong>–¢–∞–±–ª–∏—Ü:</strong> 8 —Ç–∞–±–ª–∏—Ü (–æ–¥–∏–Ω–∞–∫–æ–≤–æ)</li>
                <li><strong>–§—É–Ω–∫—Ü–∏–π:</strong> 2+ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–¥–∏–Ω–∞–∫–æ–≤–æ)</li>
            </ul>
        </div>

        <h2>1Ô∏è‚É£ –¢–ê–ë–õ–ò–¶–ê: ksk_result (–û–°–ù–û–í–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø)</h2>
        <table>
            <thead>
                <tr>
                    <th width="20%">–ü–∞—Ä–∞–º–µ—Ç—Ä</th>
                    <th width="35%">–ú–∏–≥—Ä–∞—Ü–∏—è 013</th>
                    <th width="35%">–ú–∏–≥—Ä–∞—Ü–∏—è 018</th>
                    <th width="10%">–°—Ç–∞—Ç—É—Å</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>–í–µ—Ä—Å–∏—è —Ç–∞–±–ª–∏—Ü—ã</strong></td>
                    <td>2025-10-27</td>
                    <td class="added">2025-10-29</td>
                    <td><span class="badge badge-updated">UPD</span></td>
                </tr>
                <tr>
                    <td><strong>–í—Å–µ–≥–æ –∫–æ–ª–æ–Ω–æ–∫</strong></td>
                    <td>35 (+2 Kafka headers)</td>
                    <td class="added">35 (+4 Kafka –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö)</td>
                    <td><span class="badge badge-new">+2</span></td>
                </tr>
                <tr>
                    <td><strong>input_kafka_headers</strong></td>
                    <td>‚ùå –ù–ï–¢</td>
                    <td class="added">‚úÖ JSONB</td>
                    <td><span class="badge badge-new">NEW</span></td>
                </tr>
                <tr>
                    <td><strong>output_kafka_headers</strong></td>
                    <td>‚ùå –ù–ï–¢</td>
                    <td class="added">‚úÖ JSONB</td>
                    <td><span class="badge badge-new">NEW</span></td>
                </tr>
                <tr>
                    <td><strong>input_kafka_partition</strong></td>
                    <td>‚ùå –ù–ï–¢</td>
                    <td class="added">‚úÖ INTEGER</td>
                    <td><span class="badge badge-new">NEW</span></td>
                </tr>
                <tr>
                    <td><strong>input_kafka_offset</strong></td>
                    <td>‚ùå –ù–ï–¢</td>
                    <td class="added">‚úÖ BIGINT</td>
                    <td><span class="badge badge-new">NEW</span></td>
                </tr>
                <tr>
                    <td><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</strong></td>
                    <td>–ë–∞–∑–æ–≤–∞—è</td>
                    <td class="added">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è (2025-10-29)</td>
                    <td><span class="badge badge-updated">UPD</span></td>
                </tr>
                <tr>
                    <td><strong>STORAGE EXTERNAL</strong></td>
                    <td>2 –∫–æ–ª–æ–Ω–∫–∏ (input/output JSON)</td>
                    <td class="added">4 –∫–æ–ª–æ–Ω–∫–∏ (+Kafka headers)</td>
                    <td><span class="badge badge-updated">UPD</span></td>
                </tr>
                <tr>
                    <td><strong>–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π</strong></td>
                    <td>2025-10-26, 2025-10-27</td>
                    <td class="added">2025-10-26, 2025-10-28, 2025-10-29</td>
                    <td><span class="badge badge-updated">UPD</span></td>
                </tr>
                <tr>
                    <td><strong>–ò–Ω–¥–µ–∫—Å—ã</strong></td>
                    <td>5 –∏–Ω–¥–µ–∫—Å–æ–≤</td>
                    <td class="unchanged">5 –∏–Ω–¥–µ–∫—Å–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)</td>
                    <td><span class="badge badge-same">SAME</span></td>
                </tr>
            </tbody>
        </table>

        <h2>2Ô∏è‚É£ –ò–°–¢–û–†–ò–Ø –í–ï–†–°–ò–ô (CHANGELOG)</h2>
        
        <h3>‚ùå –ú–∏–≥—Ä–∞—Ü–∏—è 013 (28.10)</h3>
        <div style="background: #252526; border-left: 4px solid #f48771; padding: 15px; margin: 10px 0;">
            <pre>-- –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô:
--   2025-10-26 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
--              - –í—ã–Ω–µ—Å–µ–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è JSONB –æ–ø–µ—Ä–∞—Ü–∏–∏
--              - –î–æ–±–∞–≤–ª–µ–Ω –±–∞—Ç—á–∏–Ω–≥ –¥–ª—è insert –≤ match
--              - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
--   2025-10-29 - –î–æ–±–∞–≤–ª–µ–Ω—ã Kafka –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
--              - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Kafka —Å–æ–æ–±—â–µ–Ω–∏–π</pre>
        </div>

        <h3>‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è 018 (29.10)</h3>
        <div style="background: #252526; border-left: 4px solid #4ec9b0; padding: 15px; margin: 10px 0;">
            <pre>-- –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô:
--   2025-10-26 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
--              - –í—ã–Ω–µ—Å–µ–Ω—ã –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è JSONB –æ–ø–µ—Ä–∞—Ü–∏–∏
--              - –î–æ–±–∞–≤–ª–µ–Ω –±–∞—Ç—á–∏–Ω–≥ –¥–ª—è insert –≤ match
--              - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
--   2025-10-29 - –î–æ–±–∞–≤–ª–µ–Ω—ã Kafka –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
--              - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ Kafka —Å–æ–æ–±—â–µ–Ω–∏–π
--   <strong style="color: #4ec9b0;">2025-10-29 02:49 - –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∫–∏ NULL-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</strong>
--              <strong style="color: #4ec9b0;">- –ó–∞—â–∏—Ç–∞ v_search_results –æ—Ç NULL</strong>
--              <strong style="color: #4ec9b0;">- –ó–∞—â–∏—Ç–∞ CTE list_codes –æ—Ç NULL —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</strong>
--              <strong style="color: #4ec9b0;">- –ó–∞–º–µ–Ω–∞ jsonb_typeof –Ω–∞ jsonb_array_length –¥–ª—è match</strong>
--              <strong style="color: #4ec9b0;">- –ó–∞—â–∏—Ç–∞ string_agg –æ—Ç NULL –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</strong>
--              <strong style="color: #4ec9b0;">- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</strong></pre>
        </div>

        <h2>3Ô∏è‚É£ –§–£–ù–ö–¶–ò–ò: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è</h2>
        <table>
            <thead>
                <tr>
                    <th>–§—É–Ω–∫—Ü–∏—è</th>
                    <th width="40%">–ú–∏–≥—Ä–∞—Ü–∏—è 013</th>
                    <th width="40%">–ú–∏–≥—Ä–∞—Ü–∏—è 018</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>add_column_if_not_exists()</strong></td>
                    <td class="unchanged">‚úÖ –í–µ—Ä—Å–∏—è 1.0</td>
                    <td class="unchanged">‚úÖ –í–µ—Ä—Å–∏—è 1.0 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)</td>
                </tr>
                <tr>
                    <td><strong>jsonb_object_length()</strong></td>
                    <td class="unchanged">‚úÖ IMMUTABLE</td>
                    <td class="unchanged">‚úÖ IMMUTABLE (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)</td>
                </tr>
                <tr>
                    <td><strong>put_ksk_result()</strong></td>
                    <td class="removed">‚ùå –ë–ï–ó NULL-–∑–∞—â–∏—Ç—ã</td>
                    <td class="added">‚úÖ –° NULL-–∑–∞—â–∏—Ç–æ–π v3</td>
                </tr>
                <tr>
                    <td><strong>check_transaction_status()</strong></td>
                    <td class="unchanged">‚úÖ –ï—Å—Ç—å (–±–µ–∑–æ–ø–∞—Å–Ω–∞)</td>
                    <td class="unchanged">‚úÖ –ï—Å—Ç—å (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)</td>
                </tr>
                <tr>
                    <td><strong>check_figurant_status()</strong></td>
                    <td class="unchanged">‚úÖ –ï—Å—Ç—å (–±–µ–∑–æ–ø–∞—Å–Ω–∞)</td>
                    <td class="unchanged">‚úÖ –ï—Å—Ç—å (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)</td>
                </tr>
            </tbody>
        </table>

        <h2>4Ô∏è‚É£ –ö–õ–Æ–ß–ï–í–´–ï –û–¢–õ–ò–ß–ò–Ø –í –î–ï–¢–ê–õ–Ø–•</h2>

        <h3>üìù –î–æ–±–∞–≤–ª–µ–Ω—ã Kafka –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Ç–∞–±–ª–∏—Ü—É ksk_result</h3>
        <table>
            <thead>
                <tr>
                    <th width="25%">–ö–æ–ª–æ–Ω–∫–∞</th>
                    <th width="15%">–¢–∏–ø</th>
                    <th width="30%">–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    <th width="30%">–ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>input_kafka_headers</td>
                    <td>JSONB</td>
                    <td>Kafka headers –≤—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è</td>
                    <td class="added">28.10.2025 (–ú–∏–≥—Ä–∞—Ü–∏—è 014+)</td>
                </tr>
                <tr>
                    <td>output_kafka_headers</td>
                    <td>JSONB</td>
                    <td>Kafka headers –≤—ã—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è</td>
                    <td class="added">28.10.2025 (–ú–∏–≥—Ä–∞—Ü–∏—è 014+)</td>
                </tr>
                <tr>
                    <td class="added">input_kafka_partition</td>
                    <td class="added">INTEGER</td>
                    <td class="added">–ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏—Ü–∏–∏ Kafka –≤—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è</td>
                    <td class="added">29.10.2025 (–ù–û–í–û–ï –≤ 018)</td>
                </tr>
                <tr>
                    <td class="added">input_kafka_offset</td>
                    <td class="added">BIGINT</td>
                    <td class="added">Offset —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ø–∞—Ä—Ç–∏—Ü–∏–∏ Kafka</td>
                    <td class="added">29.10.2025 (–ù–û–í–û–ï –≤ 018)</td>
                </tr>
            </tbody>
        </table>

        <h3>üîê –ó–∞—â–∏—Ç–∞ –æ—Ç NULL (–ù–û–í–û–ï –≤ 018)</h3>
        <div class="critical">
            <strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –§—É–Ω–∫—Ü–∏—è put_ksk_result –≤ –º–∏–≥—Ä–∞—Ü–∏–∏ 018 —Å–æ–¥–µ—Ä–∂–∏—Ç NULL-–∑–∞—â–∏—Ç—É, –∫–æ—Ç–æ—Ä–∞—è –ë–´–õ –î–û–ë–ê–í–õ–ï–ù–ê –≤ –≤–µ—Ä—Å–∏—é v3:
            <ul style="margin-top: 10px; margin-left: 20px;">
                <li>‚úÖ COALESCE –¥–ª—è v_search_results (protect from NULL)</li>
                <li>‚úÖ COALESCE –≤ CTE list_codes_cte</li>
                <li>‚úÖ jsonb_array_length –≤–º–µ—Å—Ç–æ jsonb_typeof</li>
                <li>‚úÖ COALESCE –¥–ª—è string_agg –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (payer + receiver)</li>
                <li>‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (6 RAISE EXCEPTION)</li>
            </ul>
        </div>

        <h2>5Ô∏è‚É£ –†–ê–ó–ú–ï–† –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨</h2>
        <table>
            <thead>
                <tr>
                    <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                    <th>–ú–∏–≥—Ä–∞—Ü–∏—è 013</th>
                    <th>–ú–∏–≥—Ä–∞—Ü–∏—è 018</th>
                    <th>–ò–∑–º–µ–Ω–µ–Ω–∏–µ</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞</strong></td>
                    <td>234,696 —Å–∏–º–≤–æ–ª–æ–≤</td>
                    <td class="added">238,486 —Å–∏–º–≤–æ–ª–æ–≤</td>
                    <td class="added">+3,790 (+1.6%)</td>
                </tr>
                <tr>
                    <td><strong>–¢–∞–±–ª–∏—Ü</strong></td>
                    <td>8 —Ç–∞–±–ª–∏—Ü</td>
                    <td class="unchanged">8 —Ç–∞–±–ª–∏—Ü</td>
                    <td class="unchanged">–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π</td>
                </tr>
                <tr>
                    <td><strong>–ö–æ–ª–æ–Ω–æ–∫ –≤ ksk_result</strong></td>
                    <td>35 (–±–∞–∑–æ–≤—ã—Ö) + 2 (Kafka headers) = 37</td>
                    <td class="added">35 (–±–∞–∑–æ–≤—ã—Ö) + 4 (Kafka) = 39</td>
                    <td class="added">+2 –∫–æ–ª–æ–Ω–∫–∏</td>
                </tr>
                <tr>
                    <td><strong>–ò–Ω–¥–µ–∫—Å–æ–≤</strong></td>
                    <td>5 –Ω–∞ ksk_result</td>
                    <td class="unchanged">5 –Ω–∞ ksk_result</td>
                    <td class="unchanged">–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π</td>
                </tr>
                <tr>
                    <td><strong>–§—É–Ω–∫—Ü–∏–π</strong></td>
                    <td>~10+ —Ñ—É–Ω–∫—Ü–∏–π</td>
                    <td class="added">~10+ —Ñ—É–Ω–∫—Ü–∏–π (put_ksk_result v3)</td>
                    <td class="added">put_ksk_result —É–ª—É—á—à–µ–Ω–∞</td>
                </tr>
            </tbody>
        </table>

        <h2>6Ô∏è‚É£ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–¢–õ–ò–ß–ò–Ø</h2>
        <table>
            <thead>
                <tr>
                    <th width="30%">–ê—Å–ø–µ–∫—Ç</th>
                    <th width="35%">–ú–∏–≥—Ä–∞—Ü–∏—è 013</th>
                    <th width="35%">–ú–∏–≥—Ä–∞—Ü–∏—è 018</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>NULL-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong></td>
                    <td class="removed">‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ put_ksk_result</td>
                    <td class="added">‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ (v3 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)</td>
                </tr>
                <tr>
                    <td><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</strong></td>
                    <td class="removed">‚ùå –ù–ï–¢</td>
                    <td class="added">‚úÖ 6 –ø—Ä–æ–≤–µ—Ä–æ–∫ RAISE EXCEPTION</td>
                </tr>
                <tr>
                    <td><strong>Kafka –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ</strong></td>
                    <td class="removed">‚ùå –¢–æ–ª—å–∫–æ headers (2 –∫–æ–ª–æ–Ω–∫–∏)</td>
                    <td class="added">‚úÖ Headers + partition + offset (4 –∫–æ–ª–æ–Ω–∫–∏)</td>
                </tr>
                <tr>
                    <td><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π</strong></td>
                    <td>–ë–∞–∑–æ–≤–∞—è (2 –∑–∞–ø–∏—Å–∏)</td>
                    <td class="added">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è (3+ –∑–∞–ø–∏—Å–∏ —Å NULL-–ø—Ä–∞–≤–∫–∞–º–∏)</td>
                </tr>
                <tr>
                    <td><strong>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ</strong></td>
                    <td>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ</td>
                    <td class="added">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ + –ø–æ–º–µ—Ç–∫–∏ –æ NULL-–∑–∞—â–∏—Ç–µ</td>
                </tr>
                <tr>
                    <td><strong>STORAGE EXTERNAL</strong></td>
                    <td>2 –∫–æ–ª–æ–Ω–∫–∏ (input/output JSON)</td>
                    <td class="added">4 –∫–æ–ª–æ–Ω–∫–∏ (+ Kafka headers JSONB)</td>
                </tr>
            </tbody>
        </table>

        <div class="summary" style="border-color: #4ec9b0;">
            <h3>‚úÖ –í–´–í–û–î</h3>
            <ul>
                <li><strong>–ú–∏–≥—Ä–∞—Ü–∏—è 013 (28.10 17:49):</strong> –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è —Å Kafka headers (input/output)</li>
                <li><strong>–ú–∏–≥—Ä–∞—Ü–∏—è 018 (29.10 03:07):</strong> –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–ª–Ω—ã–º–∏ Kafka –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ + NULL-–∑–∞—â–∏—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ put_ksk_result</li>
                <li><strong>–û—Å–Ω–æ–≤–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ:</strong> –î–æ–±–∞–≤–ª–µ–Ω—ã 2 –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏ (partition, offset) –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ Kafka —Å–æ–æ–±—â–µ–Ω–∏–π</li>
                <li><strong>–°—Ç–∞—Ç—É—Å put_ksk_result:</strong> –í –º–∏–≥—Ä–∞—Ü–∏–∏ 018 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è v3 —Å 5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ NULL-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</li>
                <li><strong>–†–∞–∑–º–µ—Ä —É–≤–µ–ª–∏—á–∏–ª—Å—è:</strong> –ù–∞ 1.6% (+3,790 —Å–∏–º–≤–æ–ª–æ–≤)</li>
                <li><strong>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:</strong> –ú–∏–≥—Ä–∞—Ü–∏—è 018 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å 013 (–¥–æ–±–∞–≤–ª–µ–Ω–∏—è, –Ω–∏–∫–∞–∫–∏–µ —É–¥–∞–ª–µ–Ω–∏—è)</li>
                <li><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é 018 –¥–ª—è –Ω–æ–≤—ã—Ö development/production —Å—Ä–µ–¥</li>
                <li><strong>Production upgrade:</strong> –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é 018 –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î (–∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–∞—è)</li>
            </ul>
        </div>
    </div>
</body>
</html>
